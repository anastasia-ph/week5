const container = document.getElementById("container");
let valueOutput='';
const superheroes = `[{
    "picture":"https://n1s1.hsmedia.ru/13/a5/b2/13a5b2373d5e23489d9a4949ada5b927/547x397_0xac120002_8752067681540468870.jpg",
    "name": "Бэтмен",
    "alterego": "Брюс Уэйн",
    "profession":"Род деятельности: борец с преступностью, филантроп, миллиардер",
    "friends":"Друзья: Робин, Бэтгерл",
    "powers":"Суперсилы: интеллект, обширные познания, знания боевых искусств, ловкость",
    "bio":"Подробнее: по популярности человек-летучая мышь может сравниться только с Суперменом. Его образ кажется очень мистическим и мрачным: черный костюм с развевающимся плащом, устрашающий Бэтмобиль, штаб-квартира в сырой пещере. Его биография настолько же темна, как и образ. В детстве у него на глазах убили родителей, и юный Брюс поклялся всеми силами защищать родной Готэм от преступности. "
},
{
    "picture":"https://n1s1.hsmedia.ru/06/d3/73/06d37321618034ec5f2a65b09c8576e3/547x397_0xac120002_45567661540468871.jpg",
    "name": "Супермен",
    "alterego": "Кларк Кент",
    "profession":"Род деятельности: борец за справедливость",
    "friends":"Друзья: собака Крипто",
    "powers":"Суперсилы: непробиваемость, суперсила, полет, самоисцеление, суперзрение и суперслух, классный костюм",
    "bio":"Подробнее: полная противоположность своему противнику Бэтмену. Если Брюс Уэйн был простым человеком и стал героем, то Супермен героем родился, но вынужден был изображать выходца из бедной канзасской семьи. Последний представитель планеты Криптон был отправлен на Землю прямо перед тем, как его родина была уничтожена. "
},
{
    "picture":"https://n1s1.hsmedia.ru/7b/56/08/7b5608ec3df83d872fa1162fb9e32f28/547x397_0xac120002_1773711401540468871.jpg",
    "name": "Железный человек",
    "alterego": "Тони Старк",
    "profession":"Род деятельности: гений, миллиардер, плейбой, филантроп",
    "friends":"Друзья: Мстители",
    "powers":"Суперсилы: высокий уровень интеллекта, широкие познания науки и техники, связь со всемирной паутиной, бронекостюмы",
    "bio":"Подробнее: пожалуй, самый популярный современный супергерой. У него много общего с мрачной птицей ночи Бэтменом: оба потеряли родителей в детстве, стали борцами с преступностью без особых сверхсил, невероятно богатые. Только если Бэтменом восхищаются, то Тони Старка — обожают :) То ли дело в шикарной актерской игре Роберта Дауни мл., который выбил роль у Николаса Кейджа и Тома Круза, то ли в хорошо прописанном персонаже."
},
{
    "picture":"https://n1s1.hsmedia.ru/37/39/74/373974effcc7ccd093d849e8fa062091/547x397_0xac120002_9548247751540468871.jpg",
    "name": "Спайдер-мен/Человек-паук",
    "alterego": "Альтер эго: Питер Паркер",
    "profession":"Род деятельности: борец за справедливость, студент, фотограф",
    "friends":"Друзья: Мстители, Фантастическая четверка, Люди Икс",
    "powers":"Суперсилы: сверхчеловеческие рефлексы, «паучье чутье», способность прилепляться к твердым поверхностям, производство паутины",
    "bio":"Подробнее: Человек-паук родился от потребности Marvel Comics создать героя-подростка. Другие супергерои вроде Бэтмена и Супермена — взрослые мужчины, и целевая аудитория не видела в них примеры для подражания. Пятнадцатилетний Питер Паркер дал понять всем тинейджерам Земли, что можно и злодеев уничтожить, и на красавице жениться. Для этого даже не обязательно быть суперкрасавчиком! Всего лишь нужен укус паучка:)"
},
{
    "picture":"https://n1s1.hsmedia.ru/41/8f/05/418f050c767eeca8854b328914c7bccc/547x397_0xac120002_20106541761540468871.jpg",
    "name": "Капитан Америка",
    "alterego": "Альтер эго: Стивен Роджерс",
    "profession":"Род деятельности: супер-солдат",
    "friends":"Друзья: Мстители",
    "powers":"Суперсилы: сила, выносливость, бессмертие, быстрая регенерация, мастерство скрытности и боя",
    "bio":"Подробнее: Капитан Америка — персонаж, целеноправленно созданный, чтобы воплощать идеалы патриотизма. Потому он был особенно популярный во время Второй мировой войны. В комиксах обращение «Капитан Америка» применяется к любому, кто выбран правительством США. Больше всего оно закрепилось именно за Стивом Роджерсом."
},
{
    "picture":"https://n1s1.hsmedia.ru/52/a3/e1/52a3e14a0c8f02715b763e7a20fe1c00/547x397_0xac120002_19311926741540468872.jpg",
    "name": "Тор",
    "alterego": "Альтер эго: нет; полное имя — Тор Одинсон",
    "profession":"Род деятельности: борец за справедливость, скандинавский бог",
    "friends":"Друзья: Мстители",
    "powers":"Суперсилы: все, что может бог, плюс молот Мьелнир",
    "bio":"Подробнее:  персонаж Тора основан на образе одноименного скандинавского бога. Тор во вселенной Marvel — родной сын Одина и древнейшей богини Геи. После рождения сына Один забрал его в Асгард, где растил вместе со своей женой, богиней Фригг. Последнюю Тор всегда считал своей настоящей матерью и лишь много позже узнал правду о своем рождении."
},
{
    "picture":"https://n1s1.hsmedia.ru/9a/28/e7/9a28e7b059594fc10387669ae4bd2f22/547x397_0xac120002_20162335021540468872.jpg",
    "name": "Халк",
    "alterego": "Альтер эго: Брюс Беннер",
    "profession":"Род деятельности: супергерой, борец за справедливость, ученый-биохимик",
    "friends":"Друзья: Мстители",
    "powers":"Суперсилы: сверхчеловеческая сила искорость, выносливость, полет",
    "bio":"Подробнее: идею создания Халка как персонажа можно отнести к фантастической новелле «Странная история доктора Джекила и мистера Хайда», в которой ученый не может примириться со своим демоническим альтер эго. Прошлое у Халка — хуже некуда: отец Брюса страдал от алкоголизма и приступов ярости, а мать пыталась всеми силами уберечь сына от гнева своего мужа. Она погибла, защищая своего единственного ребенка от его побоев."
},
{
    "picture":"https://n1s1.hsmedia.ru/87/ed/c5/87edc525d8813c7b2899e04a4e562fe9/547x397_0xac120002_6444132261540468872.jpg",
    "name": "Чудо-женщина",
    "alterego": "Альтер эго: Диана Принс",
    "profession":"Род деятельности: супергероиня, секретарь-референт",
    "friends":"Друзья: Лига Справедливости, Бэтмен, Супермен",
    "powers":"Суперсилы: сверхчеловеческая сила искорость, выносливость, полет",
    "bio":"Подробнее:  пора бы разбавить эту мужскую вечеринку по-настоящему крутой девчонкой :) Принцесса-амозонка родилась на мистическом острове Темескира, расположенном в центре Бермудского треугольника, где пропадают самолеты. Свое настоящее имя — Диана — она получила в честь древнегреческой богини охоты, а суперспособности — от богини любви Афродиты. Растили героиню в исключительно женском обществе, поэтому Чудо-женщина часто появляется в культуре как символ феминизма."
},
{
    "picture":"https://n1s1.hsmedia.ru/e0/2b/55/e02b55b147eeaff9b3fe6bdbb36ff9ea/547x397_0xac120002_744074131540468872.jpg",
    "name": "Черная вдова",
    "alterego": "Альтер эго: Наташа Романофф",
    "profession":"Род деятельности: супергероиня, шпионка",
    "friends":"Друзья: Мстители",
    "powers":"Суперсилы: пик человеческого физического потенциала, замедленное старение, знание многих языков",
    "bio":"Подробнее:  супергероиня российского происхождения родилась предположительно в 1928 году в Сталинграде. Во время Второй мировой войны она потеряла родителей и была спасена из горящего дома советским солдатом. Тот на некоторое время стал ее опекуном. Повзрослев, Наташа попала в организацию «Красная Комната», где прошла многочисленные тренировки, а именно — была частью шпионской программы."
},
{
    "picture":"https://n1s1.hsmedia.ru/34/93/39/3493392c94fc2ae0552ef9c7e87f2617/728x382_1_cc2a743fd686b7b2e256c062966bb465@1034x543_0xac120002_2692921231540468872.jpg",
    "name": "Дэдпул",
    "alterego": "Альтер эго: Уэйд Уинстон Уилсон",
    "profession":"Род деятельности: антигерой, наемник",
    "friends":"Друзья: частично Мстители, Человек-паук, Росомаха",
    "powers":"Суперсилы: высокий болевой порог, регенерация и бессмертие, сверхчеловеческая иммунная система",
    "bio":"Подробнее: как и Росомаха из Людей Икс, Дэдпул был подвергнут опытам по программе «Оружие Икс». Ученые попытались исцелить его рак, привив его клеткам способность к регенерации. Как и всегда в комиксах, что-то пошло не так, и Дэдпул остался изуродованным и психически нестабильным."
}
]`



let parsedSuperheroes = JSON.parse(superheroes)
let cardContent = "";
for(let i=0; i<parsedSuperheroes.length; i++){
    cardContent += `<div class="card">
    <img class="image card__container" src=${parsedSuperheroes[i].picture}>
    <div class="card__header card__container">${parsedSuperheroes[i].name}</div>
    <div class="card__container">${parsedSuperheroes[i].alterego}</div>
    <div class="card__container">${parsedSuperheroes[i].profession}</div>
    <div class="card__container">${parsedSuperheroes[i].friends}</div>
    <div class="card__container">${parsedSuperheroes[i].powers}</div>
    <div class="card__container">${parsedSuperheroes[i].bio}</div>
    <p class="card__container container__rate-header">Какой рейтинг дадите этому герою?</p>
    <div class="card__container"><input class="inputRange" type="range" min="1" max="10" value="5"></div>
    <div class="container__value-output card__container"></div>
    </div>`
    container.innerHTML = cardContent
}


const inputRange = document.querySelectorAll("input")
let rateValues = []

for(let i=0; i<inputRange.length; i++){
    inputRange[i].addEventListener("change", function(){
        document.getElementsByClassName("container__value-output")[i].innerHTML = this.value;
        localStorage.setItem(`${parsedSuperheroes[i].name}`, `${inputRange[i].value}`)
    })
}

window.addEventListener("DOMContentLoaded", function(){
    for(let i=0; i<inputRange.length; i++){
        if(localStorage.getItem(`${parsedSuperheroes[i].name}`)){
            document.getElementsByClassName("inputRange")[i].value = localStorage.getItem(`${parsedSuperheroes[i].name}`);
            document.getElementsByClassName("container__value-output")[i].innerHTML = localStorage.getItem(`${parsedSuperheroes[i].name}`)
            
        }
        else{
            document.getElementsByClassName("container__value-output")[i].innerHTML = inputRange[i].value;
            localStorage.setItem(`${parsedSuperheroes[i].name}`, `${inputRange[i].value}`)
        }
    }
}
)

